<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NefroQuest: Ascencion</title>
  <style>
    :root{--bg:#05070f;--card:#0d1426;--card2:#131f39;--line:#2a3f67;--txt:#e8efff;--mut:#9eb0d7;--ok:#34d399;--bad:#fb7185}
    *{box-sizing:border-box} body{margin:0;color:var(--txt);font-family:Inter,system-ui;background:radial-gradient(circle at 20% -10%,#1e2e56,transparent 40%),radial-gradient(circle at 90% 0,#2f1c4f,transparent 30%),#05070f;min-height:100vh;padding:16px}
    .app{max-width:1400px;margin:0 auto;display:grid;grid-template-columns:420px 1fr;gap:14px}
    .panel{background:linear-gradient(180deg,var(--card2),var(--card));border:1px solid var(--line);border-radius:18px;box-shadow:0 20px 60px #0008}
    .left{padding:14px}.right{padding:18px}
    h1{margin:0;font-size:1.7rem;background:linear-gradient(90deg,#c7d2fe,#f9d67a);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .sub{margin:6px 0 12px;color:var(--mut);font-size:.9rem}
    .hero,.hud,.equip,.log,.qbox,.feedback,.refs,.ctrl{background:#0d1831cf;border:1px solid var(--line);border-radius:12px}
    .hero{padding:10px;margin-bottom:10px}.hero-wrap{display:flex;gap:10px;align-items:center}.portrait{width:92px;height:92px;border-radius:14px;border:1px solid #4f6798;background:#070d1d;object-fit:cover;transition:.2s}.portrait.tier-5{box-shadow:0 0 22px #f59e0b66}.portrait.tier-4{box-shadow:0 0 18px #c084fc55}.portrait.tier-3{box-shadow:0 0 16px #34d39955}.portrait.tier-2{box-shadow:0 0 14px #60a5fa55}
    .class{font-weight:700}.xp{height:10px;border-radius:999px;overflow:hidden;border:1px solid #34517f;background:#0b1329;margin-top:8px}.xp>div{height:100%;width:0;background:linear-gradient(90deg,#60a5fa,#a78bfa);transition:width .25s}
    .hud{padding:10px;display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:10px}.tile{padding:8px;border:1px solid #2f4a78;border-radius:10px;background:#0b1329;text-align:center}.tile span{display:block;color:var(--mut);font-size:.72rem}
    .equip{padding:10px;margin-bottom:10px}.slot{font-size:.82rem;padding:8px;border:1px solid #2f4a78;border-radius:10px;background:#0b1329;margin-bottom:6px}.slot-head{display:flex;gap:8px;align-items:center}.slot img{width:24px;height:24px;border-radius:6px}.rar-common{color:#cbd5e1}.rar-rare{color:#93c5fd}.rar-epic{color:#c4b5fd}.rar-legendary{color:#fbbf24;font-weight:700}
    .log{padding:10px;min-height:138px;font-size:.84rem}.log p{margin:0 0 6px}
    .qbox{padding:14px;min-height:120px;margin-bottom:10px}#question{margin:0;line-height:1.5;font-size:1.06rem}
    .options{display:grid;gap:8px}.option{padding:11px;border:1px solid #334f81;border-radius:10px;background:#0b1329;color:var(--txt);text-align:left;cursor:pointer}.option:hover:not(:disabled){border-color:#6ea7ff}.option.correct{border-color:var(--ok);background:#123126}.option.wrong{border-color:var(--bad);background:#3a1721}
    .feedback{padding:11px;min-height:78px;margin-top:10px}.feedback.good{border-color:#1f7b63}.feedback.bad{border-color:#9f3f54}
    .refs{padding:10px;margin-top:8px;font-size:.88rem}.refs ul{margin:6px 0 0;padding-left:18px}.refs a{color:#93c5fd;text-decoration:none}.refs a:hover{text-decoration:underline}
    .ctrl{padding:10px;margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}.btn{border:1px solid #4c6da5;background:linear-gradient(180deg,#72abff,#416ab1);color:#fff;border-radius:9px;padding:9px 12px;font-weight:700;cursor:pointer}.btn.sec{background:#263c5c}.hidden{display:none}
    .modalWrap.hidden{display:none}.modalWrap{position:fixed;inset:0;background:#0008;display:grid;place-items:center}.modal{width:min(700px,92vw);background:linear-gradient(180deg,#111d37,#0b1428);border:1px solid var(--line);border-radius:14px;padding:14px}
    table{width:100%;border-collapse:collapse;margin-top:8px}th,td{border-bottom:1px solid #34507f;padding:7px;text-align:left;font-size:.88rem}
    @media(max-width:1060px){.app{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <main class="app">
    <section class="panel left">
      <h1>NefroQuest: Ascencion</h1>
      <p class="sub">Modo RPG para prova de t√≠tulo ‚Äî cartas randomizadas sem repeti√ß√£o at√© o fim do baralho.</p>

      <div class="hero">
        <div class="hero-wrap">
          <img id="heroImg" class="portrait" src="assets/hero-tier1.svg" alt="Her√≥i" />
          <div>
            <div id="heroClass" class="class">Novi√ßo da Filtra√ß√£o</div>
            <small id="heroFlavor">"Cada n√©fron salvo √© uma vit√≥ria."</small>
          </div>
        </div>
        <div class="xp"><div id="xpFill"></div></div>
        <small id="xpTxt">XP 0 / 120</small>
      </div>

      <div class="hud">
        <div class="tile"><span>N√≠vel</span><strong id="level">1</strong></div>
        <div class="tile"><span>Pontos</span><strong id="score">0</strong></div>
        <div class="tile"><span>Vidas</span><strong id="lives">‚ù§‚ù§‚ù§</strong></div>
        <div class="tile"><span>Recorde</span><strong id="record">0</strong></div>
        <div class="tile"><span>Ouro</span><strong id="gold">0</strong></div>
        <div class="tile"><span>Streak</span><strong id="streak">0</strong></div>
      </div>

      <div class="equip">
        <strong>Equipamentos</strong>
        <div id="equipList"></div>
      </div>

      <div class="log"><strong>Jornada</strong><div id="journal"></div></div>
    </section>

    <section class="panel right">
      <div class="qbox"><p id="question"></p></div>
      <div id="options" class="options"></div>
      <div id="feedback" class="feedback">Escolha a melhor resposta.</div>
      <div id="refs" class="refs"></div>
      <div class="ctrl">
        <button id="nextBtn" class="btn hidden">Pr√≥xima carta</button>
        <button id="newBtn" class="btn sec">Novo jogo</button>
        <button id="boardBtn" class="btn sec">Leaderboard</button>
      </div>
    </section>
  </main>

  <div id="boardModal" class="modalWrap hidden">
    <div class="modal">
      <h3 style="margin:0">Leaderboard</h3>
      <table><thead><tr><th>#</th><th>Pontos</th><th>N√≠vel</th><th>Data</th></tr></thead><tbody id="boardBody"></tbody></table>
      <div style="margin-top:10px"><button id="closeBoard" class="btn">Fechar</button></div>
    </div>
  </div>

  <script>
    const refsDB={kdigo_ckd:{label:"KDIGO CKD 2024",url:"https://kdigo.org/guidelines/ckd-evaluation-and-management/"},kdigo_aki:{label:"KDIGO AKI",url:"https://kdigo.org/guidelines/acute-kidney-injury/"},kdigo_gn:{label:"KDIGO Glomerular Diseases",url:"https://kdigo.org/guidelines/glomerular-diseases/"},kdigo_tx:{label:"KDIGO Transplant",url:"https://kdigo.org/guidelines/transplant-recipient-care/"},dapa:{label:"DAPA-CKD",url:"https://www.nejm.org/doi/full/10.1056/NEJMoa2024816"},empa:{label:"EMPA-KIDNEY",url:"https://www.nejm.org/doi/full/10.1056/NEJMoa2204233"},hypona:{label:"Guideline Hyponatremia",url:"https://academic.oup.com/ndt/article/29/suppl_2/i1/1843686"}};
    const scenarioWrappers=["Qual conduta est√° mais alinhada √†s diretrizes para","Em caso desafiador, qual alternativa melhor interpreta","Na avalia√ß√£o de alta complexidade, qual decis√£o evita erro em","Diante de situa√ß√£o lim√≠trofe, qual abordagem correta em","No contexto de estratifica√ß√£o de risco, qual op√ß√£o representa","Em paciente com m√∫ltiplas comorbidades, qual atitude √© mais adequada para","Sob medicina baseada em evid√™ncias, qual estrat√©gia √© prefer√≠vel para","Em quest√£o de pegadinha conceitual, qual resposta correta sobre","Na integra√ß√£o nefro-cardio-metab√≥lica, qual conduta √© superior para","Em cen√°rio cr√≠tico com progress√£o renal, qual decis√£o t√©cnica √© melhor para"];
    const topics=[
      {t:"confirma√ß√£o de DRC com eGFR lim√≠trofe",c:"dosar cistatina C e considerar equa√ß√£o combinada",d:["usar apenas ureia para estadiar","clearance 24h como padr√£o ouro em todo ambulat√≥rio","indicar bi√≥psia sem crit√©rios"],e:"A cistatina C combinada √† creatinina melhora acur√°cia em cen√°rios lim√≠trofes.",r:["kdigo_ckd"]},
      {t:"uso de Cockcroft-Gault",c:"reconhecer desuso para estadiamento, mantendo utilidade para dose de alguns f√°rmacos",d:["substituir CKD-EPI em todo paciente","usar para classificar albumin√∫ria","descartar totalmente em qualquer contexto"],e:"Ainda h√° utilidade pontual para ajuste de dose de algumas medica√ß√µes.",r:["kdigo_ckd"]},
      {t:"DRC diab√©tica com protein√∫ria",c:"manter IECA/BRA se tolerado",d:["AINE cont√≠nuo","suspender anti-hipertensivos para perfus√£o renal","corticosteroide rotineiro"],e:"Bloqueio SRAA √© pilar em protein√∫ria diab√©tica.",r:["kdigo_ckd"]},
      {t:"monitoriza√ß√£o de iSGLT2",c:"vigiar infec√ß√µes genitais e cetoacidose euglic√™mica",d:["foco principal em hipercalcemia","aus√™ncia de efeitos adversos relevantes","suspender em todo dip inicial"],e:"Benef√≠cio cardiorrenal robusto com perfil de seguran√ßa conhecido.",r:["dapa","empa"]},
      {t:"finerenona na DRC diab√©tica",c:"considerar em DM2 com albumin√∫ria residual apesar de IECA/BRA",d:["usar em albumin√∫ria sem DM indiscriminadamente","evitar sempre com SRAA","iniciar sem monitorar pot√°ssio"],e:"Evid√™ncias centrais em DM2 albumin√∫rico com vigil√¢ncia de K.",r:["kdigo_ckd"]},
      {t:"indica√ß√£o de TRS urgente na IRA",c:"edema agudo de pulm√£o refrat√°rio",d:["creatinina discretamente elevada isolada","ureia levemente alta assintom√°tica","anemia normoc√≠tica"],e:"Decis√£o de urg√™ncia √© cl√≠nico-laboratorial integrada.",r:["kdigo_aki"]},
      {t:"diferencial de hiponatremia",c:"avaliar osmolaridade plasm√°tica e estado vol√™mico",d:["diagnosticar SIADH sem osmolaridade","corrigir antes de investigar","usar apenas s√≥dio urin√°rio"],e:"Avalia√ß√£o estruturada evita erro diagn√≥stico e terap√™utico.",r:["hypona"]},
      {t:"corre√ß√£o de hiponatremia cr√¥nica",c:"evitar sobrecorre√ß√£o para reduzir desmieliniza√ß√£o osm√≥tica",d:["normalizar em poucas horas","usar s√≥ solu√ß√£o hipot√¥nica","ignorar meta di√°ria"],e:"Velocidade de corre√ß√£o √© determinante de seguran√ßa.",r:["hypona"]},
      {t:"cilindros hem√°ticos no sedimento",c:"suspeitar glomerulopatia ativa",d:["atribuir contamina√ß√£o sem contexto","fechar pielonefrite automaticamente","antibi√≥tico emp√≠rico isolado"],e:"Cilindros hem√°ticos sugerem origem glomerular do sangramento.",r:["kdigo_gn"]},
      {t:"queda aguda da fun√ß√£o do enxerto",c:"investigar pr√©/intra/p√≥s-renal, rejei√ß√£o e nefrotoxicidade",d:["presumir desidrata√ß√£o em todos","aumentar imunossupress√£o sem investiga√ß√£o","aguardar resolu√ß√£o espont√¢nea"],e:"Avalia√ß√£o precoce preserva fun√ß√£o do enxerto.",r:["kdigo_tx"]}
    ];

    const items={
      weapon:[{n:"L√¢mina da Al√ßa",rar:"common",atk:2,def:0,kno:1,luck:0},{n:"Lan√ßa Glomerular",rar:"rare",atk:4,def:1,kno:2,luck:1},{n:"Espada Nefroprotetora",rar:"epic",atk:7,def:2,kno:3,luck:2},{n:"Excalibur do N√©fron",rar:"legendary",atk:11,def:3,kno:4,luck:3}],
      armor:[{n:"Jaleco de Plant√£o",rar:"common",atk:0,def:2,kno:1,luck:0},{n:"Manto Renocortical",rar:"rare",atk:1,def:4,kno:2,luck:1},{n:"√âgide Dial√≠tica",rar:"epic",atk:2,def:7,kno:3,luck:1},{n:"Armadura Primeva",rar:"legendary",atk:3,def:11,kno:4,luck:2}],
      relic:[{n:"Anel Albumin√∫rico",rar:"common",atk:0,def:0,kno:2,luck:1},{n:"Sigilo KDIGO",rar:"rare",atk:1,def:1,kno:4,luck:1},{n:"Orbe da Cistatina",rar:"epic",atk:2,def:2,kno:6,luck:2},{n:"Rel√≠quia do T√≠tulo",rar:"legendary",atk:3,def:3,kno:8,luck:4}]
    };
    const rarityWeight=["common","common","common","rare","rare","epic","legendary"],rarityPower={common:1,rare:2,epic:3,legendary:4};

    function buildDeck(){const deck=[];for(let i=0;i<300;i++){const t=topics[i%topics.length],w=scenarioWrappers[Math.floor(i/topics.length)%scenarioWrappers.length],d=Math.min(12,4+Math.floor(i/25));const opts=[t.c,...t.d],rot=i%4,o=opts.map((_,x)=>opts[(x+rot)%4]);deck.push({id:i+1,d,q:`${w} ${t.t}?`,o,a:(4-rot)%4,e:t.e,r:t.r});}return deck;}
    const questionBank=buildDeck();

    const state={level:1,xp:0,xpToNext:120,score:0,lives:3,streak:0,gold:0,current:null,answered:false,queue:[],idx:0,equipment:{weapon:{n:"Caneta do Interno",rar:"common",atk:0,def:0,kno:1,luck:0},armor:{n:"T√∫nica de Resid√™ncia",rar:"common",atk:0,def:1,kno:0,luck:0},relic:{n:"Ins√≠gnia do Plant√£o",rar:"common",atk:0,def:0,kno:1,luck:0}},milestone:new Set()};

    const $=id=>document.getElementById(id),ui={heroImg:$("heroImg"),heroClass:$("heroClass"),heroFlavor:$("heroFlavor"),xpFill:$("xpFill"),xpTxt:$("xpTxt"),level:$("level"),score:$("score"),lives:$("lives"),record:$("record"),gold:$("gold"),streak:$("streak"),equipList:$("equipList"),journal:$("journal"),question:$("question"),options:$("options"),feedback:$("feedback"),refs:$("refs"),nextBtn:$("nextBtn"),newBtn:$("newBtn"),boardBtn:$("boardBtn"),boardModal:$("boardModal"),boardBody:$("boardBody"),closeBoard:$("closeBoard")};

    const boardGet=()=>JSON.parse(localStorage.getItem('nefroquest-board')||'[]');
    const boardSave=(x)=>localStorage.setItem('nefroquest-board',JSON.stringify(x.slice(0,20)));
    function boardPush(score,level){const b=boardGet();b.push({score,level,date:new Date().toLocaleString('pt-BR')});b.sort((a,c)=>c.score-a.score||c.level-a.level);boardSave(b)}
    const best=()=>{const b=boardGet();return b.length?b[0].score:0};
    function log(m){const p=document.createElement('p');p.textContent=m;ui.journal.prepend(p);while(ui.journal.children.length>7)ui.journal.lastChild.remove()}
    function total(){return Object.values(state.equipment).reduce((a,i)=>(a.atk+=i.atk,a.def+=i.def,a.kno+=i.kno,a.luck+=i.luck,a),{atk:0,def:0,kno:0,luck:0})}
    function heroMeta(){if(state.level>=16)return["Arquimago do N√©fron","\"Voc√™ domina o conselho sombrio dos rins.\"",'assets/hero-tier5.svg',5];if(state.level>=12)return["Lenda Cardiorrenal","\"Integra√ß√£o e precis√£o em n√≠vel √©pico.\"",'assets/hero-tier4.svg',4];if(state.level>=8)return["Mestre das Glomerulopatias","\"Cada detalhe muda o destino.\"",'assets/hero-tier3.svg',3];if(state.level>=5)return["Guardi√£o da Nefroprote√ß√£o","\"Voc√™ segura a linha entre risco e desfecho.\"",'assets/hero-tier2.svg',2];return["Novi√ßo da Filtra√ß√£o","\"Cada n√©fron salvo √© uma vit√≥ria.\"",'assets/hero-tier1.svg',1];}
    function renderEquip(){const map={weapon:['‚öîÔ∏è Arma','assets/weapon-spear.svg'],armor:['üõ°Ô∏è Armadura','assets/armor-aegis.svg'],relic:['üîÆ Rel√≠quia','assets/relic-orb.svg']};ui.equipList.innerHTML=Object.entries(state.equipment).map(([k,v])=>`<div class='slot'><div class='slot-head'><img src='${map[k][1]}' alt='${k}'/><strong>${map[k][0]}:</strong> <span class='rar-${v.rar}'>${v.n}</span></div><small>ATK ${v.atk} ‚Ä¢ DEF ${v.def} ‚Ä¢ CONH ${v.kno} ‚Ä¢ SORTE ${v.luck}</small></div>`).join('');}
    function renderHUD(){const [c,f,img,t]=heroMeta();ui.heroClass.textContent=c;ui.heroFlavor.textContent=f;ui.heroImg.src=img;ui.heroImg.className=`portrait tier-${t}`;ui.level.textContent=state.level;ui.score.textContent=state.score;ui.lives.textContent='‚ù§'.repeat(Math.max(0,state.lives))+'‚ô°'.repeat(3-Math.max(0,state.lives));ui.record.textContent=best();ui.gold.textContent=state.gold;ui.streak.textContent=state.streak;ui.xpFill.style.width=`${Math.min(100,(state.xp/state.xpToNext)*100)}%`;ui.xpTxt.textContent=`XP ${state.xp} / ${state.xpToNext} ‚Ä¢ Cartas: ${questionBank.length}`;renderEquip();}

    function shuffleQueue(){state.queue=[...questionBank];for(let i=state.queue.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[state.queue[i],state.queue[j]]=[state.queue[j],state.queue[i]];}state.idx=0;}
    function drawQuestion(){if(state.idx>=state.queue.length){finishDeck();return null;}return state.queue[state.idx++];}
    function renderRefs(keys){const list=keys.map(k=>refsDB[k]).filter(Boolean);ui.refs.innerHTML=`<strong>Refer√™ncias:</strong><ul>${list.map(i=>`<li><a href='${i.url}' target='_blank' rel='noopener noreferrer'>${i.label}</a></li>`).join('')}</ul>`}
    function renderQuestion(){state.answered=false;const q=drawQuestion();if(!q)return;state.current=q;ui.question.textContent=q.q;ui.options.innerHTML='';ui.feedback.className='feedback';ui.feedback.textContent='Escolha a melhor alternativa cl√≠nica.';renderRefs(q.r);ui.nextBtn.classList.add('hidden');q.o.forEach((opt,i)=>{const b=document.createElement('button');b.className='option';b.type='button';b.textContent=`${String.fromCharCode(65+i)}) ${opt}`;b.addEventListener('click',()=>answer(i,b));ui.options.appendChild(b);});}

    function gainXP(x){state.xp+=x;let up=0;while(state.xp>=state.xpToNext){state.xp-=state.xpToNext;state.level++;state.xpToNext=Math.floor(state.xpToNext*1.17);up++;if(state.level%6===0&&state.lives<3)state.lives++;}return up;}
    function rollItem(diff,luck){const slots=Object.keys(items),slot=slots[Math.floor(Math.random()*slots.length)],bonus=Math.min(2,Math.floor((luck+diff)/8)),pool=[...rarityWeight,...(bonus?["rare","epic"].slice(0,bonus):[])],rar=pool[Math.floor(Math.random()*pool.length)],cand=items[slot].filter(i=>i.rar===rar);return{slot,item:cand[Math.floor(Math.random()*cand.length)]};}
    function equipOrSell(slot,item){const old=state.equipment[slot],p1=old.atk+old.def+old.kno+old.luck+rarityPower[old.rar],p2=item.atk+item.def+item.kno+item.luck+rarityPower[item.rar];if(p2>p1){state.equipment[slot]=item;return `‚¨ÜÔ∏è Equipou ${item.n}.`;}const val=15+p2*3;state.gold+=val;return `üí∞ ${item.n} virou ${val} ouro.`;}

    function answer(i,btn){if(state.answered)return;state.answered=true;const st=total();const all=[...document.querySelectorAll('.option')];all.forEach(b=>b.disabled=true);const c=state.current.a;all[c].classList.add('correct');if(i===c){state.streak++;const xp=28+state.current.d*10+state.streak*3+st.kno*2,g=10+state.current.d*4+Math.floor(st.luck/2);state.score+=95+state.current.d*20+state.streak*7+st.atk;state.gold+=g;const lv=gainXP(xp);if(Math.random()<Math.min(.88,.34+state.current.d*.03+st.luck*.01)){const d=rollItem(state.current.d,st.luck);log(`üéÅ ${equipOrSell(d.slot,d.item)}`);}ui.feedback.className='feedback good';ui.feedback.textContent=`‚úÖ Correto! ${state.current.e} +${xp} XP, +${g} ouro.${lv?` Level up x${lv}!`:''}`;}else{state.streak=0;btn.classList.add('wrong');const shield=Math.min(.35,st.def*.014),blocked=Math.random()<shield;if(!blocked)state.lives--;state.score=Math.max(0,state.score-(28-Math.min(20,st.def)));ui.feedback.className='feedback bad';ui.feedback.textContent=blocked?`üõ°Ô∏è Errou, mas sua defesa absorveu. Dificuldade da carta errada: ${state.current.d}. ${state.current.e}`:`‚ùå Incorreta. Dificuldade da carta errada: ${state.current.d}. ${state.current.e}`;log(`‚ö†Ô∏è Carta falhada (dificuldade ${state.current.d}).`);}renderHUD();if(state.lives<=0)finishGame();else ui.nextBtn.classList.remove('hidden');}

    function finishDeck(){ui.question.textContent='Voc√™ concluiu TODO o baralho sem repeti√ß√£o. Jornada completa!';ui.options.innerHTML='';ui.feedback.className='feedback good';ui.feedback.textContent='Parab√©ns! Clique em Novo jogo para embaralhar novamente 300 cartas in√©ditas na ordem.';}
    function finishGame(){boardPush(state.score,state.level);ui.question.textContent=`Fim da jornada! Pontos: ${state.score} ‚Ä¢ N√≠vel: ${state.level}.`;ui.options.innerHTML='';ui.feedback.className='feedback';ui.feedback.textContent='As 3 vidas acabaram. Clique em Novo jogo para recome√ßar.';renderRefs(["kdigo_ckd","kdigo_aki","kdigo_gn","kdigo_tx","dapa","empa"]);renderHUD();renderBoard();}

    function renderBoard(){const b=boardGet().slice(0,10);ui.boardBody.innerHTML=b.length?b.map((r,i)=>`<tr><td>${i+1}</td><td>${r.score}</td><td>${r.level}</td><td>${r.date}</td></tr>`).join(''):'<tr><td colspan="4">Sem registros ainda.</td></tr>';}
    function resetGame(){Object.assign(state,{level:1,xp:0,xpToNext:120,score:0,lives:3,streak:0,gold:0,current:null,answered:false});state.equipment={weapon:{n:"Caneta do Interno",rar:"common",atk:0,def:0,kno:1,luck:0},armor:{n:"T√∫nica de Resid√™ncia",rar:"common",atk:0,def:1,kno:0,luck:0},relic:{n:"Ins√≠gnia do Plant√£o",rar:"common",atk:0,def:0,kno:1,luck:0}};ui.journal.innerHTML='';log('üìñ Novo ciclo iniciado no Reino Sombrio do N√©fron.');shuffleQueue();renderHUD();renderQuestion();}

    ui.nextBtn.addEventListener('click',renderQuestion);ui.newBtn.addEventListener('click',resetGame);ui.boardBtn.addEventListener('click',()=>{renderBoard();ui.boardModal.classList.remove('hidden');});ui.closeBoard.addEventListener('click',()=>ui.boardModal.classList.add('hidden'));
    resetGame();
  </script>
</body>
</html>
